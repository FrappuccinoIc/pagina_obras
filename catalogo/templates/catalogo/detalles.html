{% extends 'core/base.html' %}

{% load static %}
{% block contenido %}

<section class="contenido container">
    
    <div class="row mb-3 justify-content-around">
        <img class="img-fluid col-4" src="{{ obra.imagen_url }}" alt="obra">
        <div class="col-7">
            <h2>{{ obra.titulo }} <span class="text-muted fs-4">ID: {{ obra.id }}</span></h2>
            <h3 class="text-primary">Medio: {{ obra.medio }}</h3>
            <h5 class="text-muted">
                Etiquetas: 
                    {% for e in obra.etiquetas.all %}
                        {{ e.nombre }}{% if not forloop.last %}, {% endif %}
                    {% endfor %}
            </h5>

            <hr>

            <h4 class="fs-5 mb-4 {% if publicacion.fuente_de_texto == 'oswald' %}oswald{% endif %}">{{ publicacion.descripcion }}</h4>
            <h3 class="text-success">{{ obra.estado }} | Precio: ${{ obra.precio }}</h3>
            {% if user.is_authenticated %}
            <form
                hx-post="{% url 'add_to_carrito' %}"
                hx-trigger="submit"
                hx-swap="none"
            >
                {% csrf_token %}
                <input type="text" name="obra" value="{{ obra.id }}" class="d-none">
                <input type="submit" class="btn btn-primary mt-2" value="AÃ±adir a Carrito" {% if obra.estado != "Disponible" %} disabled {% endif %}>
            </form>
            {% endif %}
        </div>
    </div>
    
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

</section>
{% endblock %}